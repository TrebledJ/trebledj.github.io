{% from "post-metadata.html" import render_metadata %}

{% macro render_preview(post, taglimit=2) %}
<article class="post-preview">
    <a href="{{post.data.url}}"></a>
    <div class="post-preview-container d-flex">
        <a class="post-thumbnail" href="{{post.data.url}}">
            <img class="post-img-blurred-bg" src="{{post.data.thumbnail}}" alt="{{ post.data.title }}">
            <div class="post-img-container d-flex w-100 h-100">
                <img class="post-img-contain" src="{{post.data.thumbnail}}" alt="{{ post.data.title }}">
            </div>
        </a>
    
        <div class="post-content d-flex flex-column justify-content-between">
            <a href="{{post.data.url}}"></a>
            <div>
                <h2 class="post-title">
                    {{post.data.title}}
                </h2>
                <div class="post-summary">
                    <p>{{ post.data.description }}</p>
                </div>
            </div>
            {{ render_metadata(post, taglimit) }}
        </div>
    </div>
</article>
{% endmacro %}