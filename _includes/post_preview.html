<article class="post-preview d-flex flex-row">
    <a class="post-thumbnail" href="{{site.baseurl}}{{post.url}}">
        {% if post.thumbnail %}
            <img class="post-img-blurred-bg" src="{{site.url}}{{site.baseurl}}{{post.thumbnail}}" alt="{{ post.title }}">
            <div class="post-img-container d-flex align-items-center w-100 h-100">
                <img class="post-img-contain" src="{{site.url}}{{site.baseurl}}{{post.thumbnail}}" alt="{{ post.title }}">
            </div>
        {% else %}
            <img class="post-img-cover" src="{{site.url}}{{site.baseurl}}{{post.thumbnail | default: site.default_thumbnail}}" alt="{{ post.title }}">
        {% endif %}
    </a>

    <div class="post-content d-flex flex-column justify-content-between">
        <div>
            <h2 class="post-title">
                <a href="{{post.url | prepend: site.baseurl}}">{{post.title | smartify}}</a>
            </h2>
            <div class="post-summary">
                <p>{{ post.summary }}</p>
            </div>
        </div>
        {% assign tag_limit = 1 %}
        {% include post_metadata.html %}
    </div>
</article>