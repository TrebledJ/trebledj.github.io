{% from "post/preview.html" import render_preview %}
{% from "tag.html" import render_tag %}

{% macro render_topic_preview(name, tag, about, excludeTags, uniquePosts) %}
    {# Description #}
    <div class="recent-posts d-flex flex-row justify-content-between align-items-center mb-3">
        <span class="me-2">{{about}}</span>
        <div>
            {{ render_tag(tag) }}
        </div>
    </div>

    {# Exclude the topic tag itself. #}
    {% set excludeTags = excludeTags | push(tag) %}

    {# Get a few posts with the relevant tag. #}
    <div class="thin-preview">
        <div class="row collection-list">
            {% for post in uniquePosts %}
                <div class="col-md-6">
                    {{ render_preview(post, excludeTags=excludeTags) }}
                </div>
            {% endfor %}
        </div>
    </div>

{% endmacro %}