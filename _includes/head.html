<head>
    <meta charset="utf-8"/>
    <title>
        {% if title %}
            {{ title }}
            -
            {{ site.title }}
        {% else %}
            {{ site.title }}
            -
            {{ site.description }}
        {% endif %}
    </title>
    <meta content="IE=edge" http-equip="X-UA-Compatible"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta name="description" content="{{ description or site.description }}">
    {# <meta name="keywords" content="{% if page.title %}{{ page.title }}, {{ site.title }}, {% for tag in page.tags %}{{ tag }}{% if forloop.last == false %}, {% endif %}{% endfor %}{% else %}{{ site.title }}, {% for tag in site.tags %}{% capture tags_slug %}{{ tag | first }}{% endcapture %}{% for tag in tags_slug %}{{ tag }}{% endfor %}{% if forloop.last == false %}, {% endif %}{% endfor %}{% endif %},{{ page.keywords | escape }}"/> #}
    {# TODO: add keywords #}
    <meta name="keywords" content="{{site.description}}"/>

    <meta http-equiv='Content-Security-Policy' content="default-src 'self' ; script-src 'strict-dynamic' 'unsafe-inline' *.disqus.com a.disquscdn.com requirejs.org code.jquery.com gist.github.com cdn.jsdelivr.net www.google-analytics.com; style-src 'self' 'unsafe-inline' a.disquscdn.com cdn.jsdelivr.net github.githubassets.com; font-src 'self' cdn.jsdelivr.net; img-src 'self' data: *; media-src 'self'; frame-src disqus.com *.soundcloud.com; connect-src 'self' www.google-analytics.com; prefetch-src *.disquscdn.com disqus.com;"/>

    <link href="/feed.xml" rel="alternate" title="RSS" type="application/rss+xml"/>
    <meta content="{{ site.title }}" property="og:site_name"/>
    {% if page.noindex %}
        <meta content="noindex" name="robots"/>
    {% endif %}
    {% if page.title %}
        <meta content="{{ page.title }}" property="og:title"/>
        <meta content="article" property="og:type"/>
    {% else %}
        <meta content="{{ site.title }}" property="og:title"/>
        <meta content="website" property="og:type"/>
    {% endif %}
    {% if page.description %}
        <meta content="{{ page.description }}" property="og:description"/>
    {% else %}
        <meta content="{{ site.description }}" property="og:description"/>
    {% endif %}
    {% if page.url %}
        <meta content="{{ site.url }}{{ page.url }}" property="og:url"/>
    {% endif %}
    {% if page.date %}
        {# <meta content="{{ page.date | date_to_xmlschema }}" property="article:published_time"/> #}
        <meta content="{{ page.date }}" property="article:published_time"/>
        <meta content="{{ site.url }}/about/" property="article:author"/>
    {% endif %}
    {% if page.thumbnail %}
        <meta content="{{ site.url }}{{ page.thumbnail }}" property="og:image"/>
    {% endif %}
    {% if page.tags %}
        {% for tag in page.tags %}
            {% if loop.first %}
                <meta content="{{ tag }}" property="article:section"/>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% if page.tags %}
        {% for tag in page.tags %}
            <meta content="{{ tag }}" property="article:tag"/>
        {% endfor %}
    {% endif %}

    <link rel="icon" href="/img/favicon.ico" type="image/gif" sizes="16x16"/>

    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/fontawesome-all.min.css"/>
    <link rel="stylesheet" href="/css/prism-okaidia.css">
    <link rel="stylesheet" href="/css/prism-diff.css">
    <link href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css" rel="stylesheet">
    <script>
        var base_url = '{{site.baseurl}}';
        var soundcloud_color = '{{site.soundcloud_color}}';
    </script>

    {# <script crossorigin="anonymous" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" src="https://code.jquery.com/jquery-3.4.1.min.js"></script> #}
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.easing.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/jquery.mousewheel.min.js"></script>
    <script src="/js/nanobar.min.js"></script>
    <script src="/js/search/lunr.min.js"></script>
    <script src="/js/search/search.js"></script>
    <script src="/js/on-scroll-progress.js"></script>
    <script src="/js/mode-switcher.js"></script>
    <script src="/js/typewriter.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/head.js"></script>
    <script src="/js/popper.min.js"></script>

    <!-- for Mathjax support -->
    {% if usemathjax %}
        <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
          },
          svg: {
            fontCache: 'global'
          }
        };
        </script>
        <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" type="text/javascript"></script>
    {% endif %}

    {# <script crossorigin="anonymous" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script> #}

    <!-- Google Analytics -->
    {% if site.google_analytics and site.environment == 'production' %}
        {% include "analytics.html" %}
    {% endif %}

    <html class="no-js">
        <!--<![endif]-->
    </html>
</head>